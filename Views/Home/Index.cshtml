@model IEnumerable<InventarioMVCPOO.Models.Articulo>
@{
    ViewData["Title"] = "Lista de registros";
}

<h1 class="text-center">
    Aplicación NET 7 MVC - Gestión de Articulos
</h1>
<h4 class="text-center">Aplicación para gestionar articulos - Ensayo de desarrollo en .NET con EntityframeworkCore</h4>

@if(TempData["mensaje"] != null){
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Mensaje"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="row">
    <div class="col-sm-12">
        <div class="float-right">
            <a asp-action="Crear" asp-controller="Home" class="btn btn-success">Nuevo Articulo</a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
       <div class="card border">
        <div class="card-header">
            <h3 class="text-center">Listas de Articulos</h3>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                @if (Model.Count() > 0)
                {
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>@Html.DisplayNameFor(m => m.CodigoProveedor)</th>
                                <th>@Html.DisplayNameFor(m => m.Nombre)</th>
                                <th>@Html.DisplayNameFor(m => m.Descripcion)</th>
                                <th>@Html.DisplayNameFor(m => m.Categoria)</th>
                                <th>@Html.DisplayNameFor(m => m.PrecioUnitario)</th>
                                <th>@Html.DisplayNameFor(m => m.UnidadStock)</th>
                                <th>@Html.DisplayNameFor(m => m.UnidadCompra)</th>
                                <th>@Html.DisplayNameFor(m => m.PtoReorden)</th>
                                <th>@Html.DisplayNameFor(m => m.descontinuado)</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var a in Model)
                            {
                               <tr>
                                 <td>@Html.DisplayFor(m => a.CodigoProveedor)</td>
                                <td>@Html.DisplayFor(m => a.Nombre)</td>
                                <td>@Html.DisplayFor(m => a.Descripcion)</td>
                                <td>@Html.DisplayFor(m => a.Categoria)</td>
                                <td>@Html.DisplayFor(m => a.PrecioUnitario)</td>
                                <td>@Html.DisplayFor(m => a.UnidadStock)</td>
                                <td>@Html.DisplayFor(m => a.UnidadCompra)</td>
                                <td>@Html.DisplayFor(m => a.PtoReorden)</td>
                                <td>@Html.DisplayFor(m => a.descontinuado)</td>
                                <td>
                                    <a class="btn btn-primary" asp-action="Editar" asp-route-id="@a.Id">Editar</a>
                                    <a class="btn btn-danger" asp-action="Borrar" asp-route-id="@a.Id">Borrar</a>
                                </td>
                               </tr>
                            }
                        </tbody>
                    </table>   
                }else{
                    <p>No hay registros...!</p>
                }
            </div>
        </div>
       </div>
    </div>
</div>